CREATE TABLE C##MZMSG.PERSONS (
	ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
	UNAME VARCHAR(20),
	NAME VARCHAR2(40),
	PRIMARY KEY (ID)
);

CREATE TABLE C##MZMSG.NOTES (
	ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
	CREATE_DATE DATE,
	TEXT VARCHAR2(1024),
	BELONGS_TO_PERSON NUMBER,
	PRIMARY KEY (ID),
	FOREIGN KEY (BELONGS_TO_PERSON) REFERENCES PERSONS (ID)
);

CREATE TABLE C##MZMSG.SHARED_NOTES(
	SHARED_WITH NUMBER NOT NULL,
	SHARED_NOTE NUMBER NOT NULL,
	FOREIGN KEY (SHARED_WITH) REFERENCES C##MZMSG.PERSONS (ID),
	FOREIGN KEY (SHARED_NOTE) REFERENCES C##MZMSG.NOTES (ID),
	CONSTRAINT PERSON_NOTE_SHARE_UNIQUE UNIQUE (SHARED_WITH, SHARED_NOTE)
);